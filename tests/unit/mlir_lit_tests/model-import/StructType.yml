#
# This file is distributed under the MIT License. See LICENSE.md for details.
#
# RUN: TEMP=(mktemp -p .); %revngpipe import-all-clift-types %s <(cat /dev/null | gzip) "$TEMP"; %revngcliftopt "$TEMP" | FileCheck %s; rm -f "$TEMP"

TypeDefinitions:
  - ID: 1281
    Kind: PrimitiveDefinition
    PrimitiveKind: Unsigned
    Size: 1
  - ID: 1282
    Kind: PrimitiveDefinition
    PrimitiveKind: Unsigned
    Size: 2
  - ID: 1284
    Kind: PrimitiveDefinition
    PrimitiveKind: Unsigned
    Size: 4

    # CHECK: #my_struct$def = #clift.struct<
    # CHECK:   id = 1001
    # CHECK:   name = "my_struct"
    # CHECK:   size = 8
    # CHECK:   fields = [
    # CHECK:     <
    # CHECK:       offset = 0
    # CHECK:       type = !clift.primitive<UnsignedKind 1>
    # CHECK:     >
    # CHECK:     <
    # CHECK:       offset = 2
    # CHECK:       type = !clift.primitive<UnsignedKind 2>
    # CHECK:     >
    # CHECK:     <
    # CHECK:       offset = 4
    # CHECK:       type = !clift.primitive<UnsignedKind 4>
    # CHECK:     >
    # CHECK:   ]
    # CHECK: >
    # CHECK: !my_struct = !clift.defined<#my_struct$def>
  - ID: 1001
    Kind: StructDefinition
    CustomName: "my_struct"
    Size: 8
    Fields:
      - Offset: 0
        Type:
          UnqualifiedType: "/TypeDefinitions/1281-PrimitiveDefinition"
      - Offset: 2
        Type:
          UnqualifiedType: "/TypeDefinitions/1282-PrimitiveDefinition"
      - Offset: 4
        Type:
          UnqualifiedType: "/TypeDefinitions/1284-PrimitiveDefinition"
